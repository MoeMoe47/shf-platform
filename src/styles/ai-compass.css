

:root{ --bg:#0D1117; --panel:#121821; --ring:#2A3340; --text:#E8EDF2; --muted:#9AA6B2; --red:#FF2B2B; --green:#1CFF7A; --orange:#FF4F00; }
.ai-compass{display:grid; grid-template-rows:44px 1fr; height:100%}
.ai-head{display:flex; align-items:center; justify-content:space-between; padding:0 14px; border-bottom:1px solid var(--ring); backdrop-filter: blur(10px); background: color-mix(in srgb, var(--panel) 88%, transparent);}
.ai-title{font-weight:700}
.ai-btn{background:rgba(255,255,255,.06); color:var(--text); border:1px solid var(--ring); padding:8px 10px; border-radius:10px}
.ai-btn.primary{background:var(--orange); color:#000; border:0}
.ai-btn.ghost{background:transparent}
.ai-main{position:relative}
.ai-mapWrap{position:absolute; inset:0}
#ai-map.ai-map{position:absolute; inset:0}
.ai-legend{position:absolute; top:16px; right:16px; z-index:10; width:240px; border:1px solid var(--ring); border-radius:12px; padding:10px 12px; backdrop-filter: blur(10px); background:color-mix(in srgb, var(--panel) 88%, transparent)}
.ai-legend header{display:flex; justify-content:space-between; align-items:baseline}
.ai-legend ul{list-style:none; margin:8px 0 0; padding:0; display:grid; gap:6px}
.ai-legRow{width:100%; display:flex; gap:10px; align-items:center; padding:8px 10px; border-radius:8px; border:1px solid transparent; background:rgba(255,255,255,.02)}
.ai-legRow.is-on{border-color:var(--ring)}
.ai-legRow.is-off{opacity:.55}
.ai-mark{width:14px; height:14px; display:inline-block; filter:drop-shadow(0 0 6px currentColor)}
.ai-mark.circle{border-radius:50%}
.ai-mark.diamond{transform:rotate(45deg)}
.ai-mark.triangle{width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-bottom:14px solid var(--red);background:transparent}
.ai-drawer{position:absolute; left:0; right:0; bottom:-260px; transition:bottom .35s ease; background: color-mix(in srgb, var(--panel) 90%, transparent); border-top:1px solid var(--ring); padding:10px 14px; border-radius:14px 14px 0 0}
.ai-drawer.open{bottom:40px}
.ai-drag{width:38px; height:4px; background:var(--ring); border-radius:99px; margin:2px auto 10px}
.ai-dh{display:flex; justify-content:space-between; align-items:center; margin-bottom:8px}
.ai-grid{display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:10px}
.ai-stat{background:rgba(255,255,255,.04); padding:10px; border-radius:10px}
.ai-statLabel{color:var(--muted); font-size:12px}
.ai-statValue{font-weight:700}
.ai-statValue.red{color:var(--red)} .ai-statValue.green{color:var(--green)} .ai-statValue.orange{color:var(--orange)}
.ai-cta{display:flex; gap:8px; margin-top:8px}
.ai-empty{opacity:.7}
.ai-clock{position:absolute; top:16px; left:16px; z-index:9; display:flex; gap:10px}
.ai-clockItem{background:rgba(255,255,255,.06); border:1px solid var(--ring); border-radius:10px; padding:8px 10px}
.ai-clockItem.red .val{color:var(--red)} .ai-clockItem.green .val{color:var(--green)}
.ai-clockItem .lbl{font-size:12px; color:var(--muted)} .ai-clockItem .val{font:700 18px/1.1 ui-monospace, SFMono-Regular, Menlo, monospace}
.ai-modal{position:fixed; inset:0; background:rgba(0,0,0,.4); display:grid; place-items:center; z-index:50}
.ai-modalCard{width:min(640px,96vw); background: color-mix(in srgb, var(--panel) 92%, transparent); border:1px solid var(--ring); border-radius:14px; padding:12px 14px}
.ai-form{display:grid; grid-template-columns:1fr 1fr; gap:8px}
.ai-form input, .ai-form select{background:rgba(255,255,255,.06); color:var(--text); border:1px solid var(--ring); padding:8px 10px; border-radius:10px}
.ai-scoreResult .score{font:800 56px/1 ui-monospace; margin:8px 0}


